<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>js.Pr.St.HS</title>
</head>

<body>
    <style>
        * {
            box-sizing: border-box;
        }

        #parent {
            margin: 0 auto;
            width: 600px;
        }

        #input {
            width: 100%;
            margin-bottom: 10px;
            padding: 10px;
        }

        #table {
            width: 100%;
        }

        #table td {
            padding: 10px;
            text-align: center;
            border: 1px solid black;
        }
    </style>
	<div>Практика на JSON. Для ввода доступны 2000, 2001, 2002, 2003 года</div>
    <div id="parent">
        <input id="input" placeholder="введите год и нажмите Enter">
        <table id="table"></table>
    </div>
    <script>
        let events = `[
        {
            "age": "10.05.2000",
            "event": "Событие 1",
            "description": "Описание события 1"
        },
        {
            "age": "14.09.2000",
            "event": "Событие 2",
            "description": "Описание события 2"
        },
        {
            "age": "30.01.2001",
            "event": "Событие 1",
            "description": "Описание события 1"
        },
        {
            "age": "17.04.2001",
            "event": "Событие 2",
            "description": "Описание события 2"
        },
        {
            "age": "11.06.2001",
            "event": "Событие 3",
            "description": "Описание события 3"
        },
        {
            "age": "19.12.2002",
            "event": "Событие 1",
            "description": "Описание события 1"
        },
        {
            "age": "03.07.2003",
            "event": "Событие 1",
            "description": "Описание события 1"
        }
        ]`;
        let input = document.querySelector("#input");
        let table = document.querySelector("#table");
        
        input.addEventListener("keyup", function (event) {
            if (event.code === "Enter") {
                if (table.hasChildNodes()) {
                    while (table.lastChild) {
                        table.lastChild.remove();
                    }
                }
                for (let elem of JSON.parse(events)) {
                    if (elem.age.slice(- 4) === input.value) {
                        let row = document.createElement("tr")
                        for (let item in elem) {
                            let cell = document.createElement("td")
                            cell.innerHTML = elem[item];
                            row.appendChild(cell);
                        }
                        table.appendChild(row);
                    }
                }
            }
        });
    </script>
</body>

</html>